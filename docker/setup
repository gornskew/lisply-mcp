#!/bin/bash

# Setup script for lisply-mcp Docker-based installation

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

echo " Setting up lisply-mcp with Docker..."
echo ""

# Build the image
echo " Building Docker image..."
"$SCRIPT_DIR/build"

echo ""
echo " Generating MCP configuration..."
"$SCRIPT_DIR/generate-config"

echo ""
echo "Setup complete!"
echo ""
echo " Your MCP servers are now ready to use!"
echo ""
echo " Next steps:"
echo "1. Copy the MCP configuration from: $SCRIPT_DIR/mcp-config.json"
echo "2. Add it to your Claude Desktop configuration"
echo "3. Restart Claude Desktop"
echo ""
echo " The container will start automatically when Claude Desktop connects"
echo "   to any MCP server. No manual container management needed!"
echo ""
echo " Optional container management:"
echo "  ./docker/manage-container status  # Check if running"
echo "  ./docker/manage-container stop    # Stop manually if needed"
